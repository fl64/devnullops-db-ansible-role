language: python
python:
- '2.7'
install:
- pip install ansible==2.3.0 molecule apache-libcloud
env:
  global:
  - secure: ZXVwoj2N7UgMe9kEKwDH1OUaG0EddPSRvb0vJ9uNjiRavdU73C+dRaBOTs5WYDNKJrD4Hf2mbPzegN5XruOOLLVX/st7TGK2gcxE5pDv26H71SE2yNsZO4Qp/aSOBMEjFCdsptNHHc/FSHe/TP0L7j0YGv9sY8gnpHtKSELspTX0mGCcKVGRsTXUhl4+KQlGaRFyYa2y7sVZ6Ctw9lmfHr3XWU24YJDzeRcoazkNnKZdZiQBMpPDlpe/Ttqo4zGARxL11yeACdWQ9H2DZDzgBECsjCjMaFLoOI6PmvuZMSr+69V47JzgpMLfh7WeQwn6fGks52oELU/dW1/YaXsnQL0oN1ln0+OV9x1a6sbR0MGJjMhY9OoiS7DMOdEIowQ0jsynICCP+6ftsWnj+P2XEqXsX8cB2Gv5SnsaEwQEi3EFktyuCZkhhe+9dQ+3P5TlqeXMfFATifX9X5vjptJU/vt3Sxc7OGADQ6dkq7URYqRCYXkyo5BaG6AlC1+Cl7gWzl3aclPN+H7jEeilEgxaMSlmz1A/EqHA8lQ5c4nJqK7DbV/qY8VirlC/KDitB8CEWMho2HyGV0XIgusRpzzn7y46PahaF0EDGvfmKOTWCGFqv6+ZFFmYl6uDkLnlfpntEAED3RIhGisNa2zjU3PgCtHartC84JRq/dUtDflRTPA=
  - secure: CvMc0DHq0becCVjI0LpspzkfPkgcl8nbyJqZwhatjfmKgIZA4qIYiMdZTcpO2jPtT8MmAZ7M2lRnX+cCK8HqvS+BeaPUf1upYAgH8hGx0rUztJIeWlLa/U5y6B5kk3E9P5S/cnbN8wGNmhaVYdwQgqoE7FtESMIx9LNOGGAOLJIH9LG0LKz/LWRMzhB/cowOqDZ9LNAOA1ktwrMmJ5zXTqrIO4MInV6HR9vw1SGiyQ9uQlY0dik0hb4vEKYArKGw9CYtYjLCfqu3jfv4cIbYU7PF/Hf1PERx+5esrtdjSaEGbNtD1WG9eG86gcxS6d2EsZLh7apuIWV4XX/IJkzALhOmX672jmTonFAnCpDFktip9q/4Z3+ZQkfSZb5TwxODkJ+RtPtZ/hLiMMAfZmLsGfMR4I2Q8gf0Ei5uaboymJAIIKD4pkx3GE3XGT6a1wDoeLWK7c72qKeZQyJmd3/oZPr35lEpMvWxM+gKYUW6UvSYleQymQDzQVU3RewTA9olwYiMefjiFX9IeedFYNbTxLvpR4BGcvKkF+oEyMFqXG2uT1eJGZWzXvjFO7TTl8zYPek1FrmamYUUVDbgYquR5T7XcEz08neuxij4d3N1u4kyAvIgmQ1XSc58XY7ggn415TAzWnC/PkGGZNrpsroN+yet8FIlE4JcyBzmijpC/ck=
  - secure: U4weGBEpqVcqnQIRHicH0oGV0wqyh+Tpi7AiBTxe17F8EeP2M3qDDun1GtwMPu982lNvL3C/a2jG4lTzX9DnT7v65U5nSlMsDoWzeP/g0u7GqCqe6aoS/ayTz+Kc4G/FZ+C0Mszw1qtHobL1wrnpiSk6IMKFghvrC8mNnDhB04zXkwHh0hy8IDK5tUEylYJZtTQ5mB2lU8ZMwsSWU792Gb9cIp+5YvxdNf1AuMnQEa6/1R/1riU6C76tv+WjcUO7inVIc5n7b1DXTsn3r1VLxJDbwNmhtcWDAOmoOwYZtwYwUdkrNxvJOyoSnWxVdfsyggCMaFaEq/uup5+o7Wl96EGf2v7eC4L2IRL5Ml6iCdoLvFa8Tohu/Dif6eGZkmT2V1etg0WPZjaOhxA7fcnDYmswQ6fr6l0TitmqVx4fTPeXtZf2RHAblhWRWLLGFzxSKVpCo/HGaIxRDooxZXN9mLZmq/LwlK/xqxfhspAihYsUsX8yvR+pRMl4FkzO/jPkYtFisk2dJC76YAkdzeh+Qe7hgRZxmoy6ArlJ+YFrzgkd0wnLXtpWvU9tCbnz9Djzq/8pzuA95KJfyxY4eTgeZhep1h274CrMLA7jAXr6e3wnh/EqMZGqrT/bImnu+/C15FtD0rSupT13zKvUdPQNptwjGkgJEmOShWdArMgjzRY=
before_install:
- openssl aes-256-cbc -K $encrypted_c5958a5e2039_key -iv $encrypted_c5958a5e2039_iv -in secrets.tar.enc -out secrets.tar -d
- 'tar xvf secrets.tar'
- 'mv google_compute_engine /home/travis/.ssh/'
- 'chmod 0600 /home/travis/.ssh/google_compute_engine'
install:
  - 'pip install -r requirements.txt'
script:
  - 'molecule create'
  - 'molecule converge'
  - 'molecule verify'
after_script:
- 'molecule --debug destroy'
notifications:
  slack:
    secure: xRlUdUPxCGhw7iSOmnRqTyuxbvvu9Fq7jBScHGN7+zHv8h/k+5aaNbCoqS91QQsZZHZ9vCGTdN9B8XYW9lQ51vkOZewAFJyGgo7KbJSz0lD/cREC5zBPHfox0/xqEY/ZwnRFZ839WVD2M7VGPe0ms1EtIwXwJje6OSfWox23l3nrj063RxztHy5oPi6utD6WhhQE80N0M3+lqY9dIAZn6zO0gq+BNrd1xFdSRxnmvbbSMTZAMYSvrJeu5ti6Ic+HcIFv+aW/7anO9Iej+dIPGZ/+Tfn2o7Mli7tb5ZJs4ZBsaYNX4anrJCAazkwkeJeVhQ6qjihjt+aiaj6eSLXrid5O3Xox2hfAAZpSWhNNzSRiRD9QzLkDuIwlFL+o/Bz2pkuKdNBtjGgngYlZ8ufZ1DIaFNaLtX87jFJLD19FfBuVZRztfl1aTVKyL2Xb6xJyIPVQy+rGLMabhxz39O6wtFrmsaHZ1VryKt86ViE9hSJUC7myeQ665latgfbbCY9QtIKyHhNr1gUbrim/QbrY5+JEAi1cJHmLQjuvnHU13CYvhgFe0+wCoMqGlRy7WDVcYoRzV2Wm6yPLQlF5fu2FEmO7n/N5wcuV7m+5SGCXV9uowjH+SRi0x9Xpu5TaUHg0673vqUTKc0jQqCoO4UbrWqA+5Q1gE38hJ3J7Frmay5A=
